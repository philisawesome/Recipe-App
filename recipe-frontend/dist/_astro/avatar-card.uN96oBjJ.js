import{j as s,P as j,a as y,M as q}from"./index.BnYiHOMz.js";import{b as F,r as f}from"./index.C6H8Wuh2.js";import{c as P,b as $,d as A}from"./index.CD1Tefez.js";var h={exports:{}},E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function U(){if(w)return E;w=1;var e=F();function t(r,u){return r===u&&(r!==0||1/r===1/u)||r!==r&&u!==u}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,i=e.useEffect,a=e.useLayoutEffect,v=e.useDebugValue;function c(r,u){var S=u(),x=o({inst:{value:S,getSnapshot:u}}),d=x[0].inst,g=x[1];return a(function(){d.value=S,d.getSnapshot=u,l(d)&&g({inst:d})},[r,S,u]),i(function(){return l(d)&&g({inst:d}),r(function(){l(d)&&g({inst:d})})},[r]),v(S),S}function l(r){var u=r.getSnapshot;r=r.value;try{var S=u();return!n(r,S)}catch{return!0}}function m(r,u){return u()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return E.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,E}var b;function z(){return b||(b=1,h.exports=U()),h.exports}var T=z();function V(){return T.useSyncExternalStore(D,()=>!0,()=>!1)}function D(){return()=>{}}var L="Avatar",[G,te]=P(L),[H,R]=G(L),I=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[i,a]=f.useState("idle");return s.jsx(H,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(j.span,{...o,ref:t})})});I.displayName=L;var C="AvatarImage",_=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:i=()=>{},...a}=e,v=R(C,n),c=B(o,a),l=$(m=>{i(m),v.onImageLoadingStatusChange(m)});return A(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?s.jsx(j.img,{...a,ref:t,src:o}):null});_.displayName=C;var k="AvatarFallback",M=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...i}=e,a=R(k,n),[v,c]=f.useState(o===void 0);return f.useEffect(()=>{if(o!==void 0){const l=window.setTimeout(()=>c(!0),o);return()=>window.clearTimeout(l)}},[o]),v&&a.imageLoadingStatus!=="loaded"?s.jsx(j.span,{...i,ref:t}):null});M.displayName=k;function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(e,{referrerPolicy:t,crossOrigin:n}){const o=V(),i=f.useRef(null),a=o?(i.current||(i.current=new window.Image),i.current):null,[v,c]=f.useState(()=>N(a,e));return A(()=>{c(N(a,e))},[a,e]),A(()=>{const l=r=>()=>{c(r)};if(!a)return;const m=l("loaded"),p=l("error");return a.addEventListener("load",m),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",m),a.removeEventListener("error",p)}},[a,n,t]),v}var K=I,O=_,W=M;function J({className:e,...t}){return s.jsx(K,{"data-slot":"avatar",className:y("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Q({className:e,...t}){return s.jsx(O,{"data-slot":"avatar-image",className:y("aspect-square size-full",e),...t})}function X({className:e,...t}){return s.jsx(W,{"data-slot":"avatar-fallback",className:y("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function ae(e){let{className:t,user:n}=e;return n=n||q,s.jsxs("a",{href:"/user",className:"flex items-center justify-start gap-2 "+t,children:[s.jsxs(J,{className:"m-2",children:[s.jsx(Q,{src:""}),s.jsx(X,{children:"CN"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"-mb-2",children:n.username}),s.jsx("p",{children:s.jsx("small",{children:n.name})})]})]})}export{ae as A};
